<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>NCC DarkCPU: src/device-10c.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="large.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">NCC DarkCPU
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('device-10c_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">device-10c.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles allocation and enables communication to peripheral devices.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9dd7141baa98434d99ab789cb1c00779"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a9dd7141baa98434d99ab789cb1c00779">DEVICE_DEVICEENTRY_OFFSET_HARDWAREIDLOW</a>()&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_OFFSET_HARDWAREIDLOW */</td></tr>
<tr class="separator:a9dd7141baa98434d99ab789cb1c00779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19998babdff7622fcb2c0d7b106caed6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a19998babdff7622fcb2c0d7b106caed6">DEVICE_DEVICEENTRY_OFFSET_HARDWAREIDHIGH</a>()&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_OFFSET_HARDWAREIDHIGH */</td></tr>
<tr class="separator:a19998babdff7622fcb2c0d7b106caed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00285e6520741716869118d45409f616"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a00285e6520741716869118d45409f616">DEVICE_DEVICEENTRY_OFFSET_HARDWAREVERSION</a>()&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_OFFSET_HARDWAREVERSION */</td></tr>
<tr class="separator:a00285e6520741716869118d45409f616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af022faeacf809d8559d209831eb383e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#af022faeacf809d8559d209831eb383e9">DEVICE_DEVICEENTRY_OFFSET_HANDLER</a>()&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_OFFSET_HANDLER */</td></tr>
<tr class="separator:af022faeacf809d8559d209831eb383e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f158a203d1b4cff0f16e1f15adaeae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#af4f158a203d1b4cff0f16e1f15adaeae">DEVICE_DEVICEENTRY_SIZE</a>()&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_SIZE */</td></tr>
<tr class="separator:af4f158a203d1b4cff0f16e1f15adaeae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac234feb60114e2beea31141786e9ff31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#ac234feb60114e2beea31141786e9ff31">DEVICE_DEVICEENTRY_MAXENTRIES</a>()&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_MAXENTRIES */</td></tr>
<tr class="separator:ac234feb60114e2beea31141786e9ff31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a553ac029f9fda58266019a0b1bbb3c53"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a553ac029f9fda58266019a0b1bbb3c53">DEVICE_DEVICEENTRY_MAXENTRYINDEX</a>()&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_MAXENTRYINDEX */</td></tr>
<tr class="separator:a553ac029f9fda58266019a0b1bbb3c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd80f4fa4389691e01199e6c44de3f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a7bd80f4fa4389691e01199e6c44de3f8">DEVICE_DEVICEENTRY_INVALIDENTRY</a>()&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_INVALIDENTRY */</td></tr>
<tr class="separator:a7bd80f4fa4389691e01199e6c44de3f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5fb29fc7609acd6f952a70fa3aefe612"><td class="memItemLeft" align="right" valign="top">Returns&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a5fb29fc7609acd6f952a70fa3aefe612">device_allocateDevice</a> (wDeviceIdLow, wDeviceIdHigh, pInterruptHandler)</td></tr>
<tr class="memdesc:a5fb29fc7609acd6f952a70fa3aefe612"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to allocate and gain exclusive access to a device.  <a href="#a5fb29fc7609acd6f952a70fa3aefe612"></a><br/></td></tr>
<tr class="separator:a5fb29fc7609acd6f952a70fa3aefe612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a893c2e78bf6dafea2b5e05ddcd1e22a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a893c2e78bf6dafea2b5e05ddcd1e22a8">device_defaultInterruptHandler</a> (void)</td></tr>
<tr class="memdesc:a893c2e78bf6dafea2b5e05ddcd1e22a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt handler assigned to devices which have been allocated but have not been provided a callback routine. This callback routine fills there place and performs no function.  <a href="#a893c2e78bf6dafea2b5e05ddcd1e22a8"></a><br/></td></tr>
<tr class="separator:a893c2e78bf6dafea2b5e05ddcd1e22a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dca3f272821c99cb5727ab00b6b502a"><td class="memItemLeft" align="right" valign="top">Returns&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a9dca3f272821c99cb5727ab00b6b502a">device_findIndexOfDevice</a> (wDeviceIdLow, wDeviceIdHigh, wStartIndex)</td></tr>
<tr class="memdesc:a9dca3f272821c99cb5727ab00b6b502a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to acquire the appropriate device index corresponding to the given device id.  <a href="#a9dca3f272821c99cb5727ab00b6b502a"></a><br/></td></tr>
<tr class="separator:a9dca3f272821c99cb5727ab00b6b502a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fe8c610024b9a7c2c8c6a3e22977e56"><td class="memItemLeft" align="right" valign="top">Returns&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a0fe8c610024b9a7c2c8c6a3e22977e56">device_freeDevice</a> (wDeviceIndex)</td></tr>
<tr class="memdesc:a0fe8c610024b9a7c2c8c6a3e22977e56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to to free a previously allocated allocate.  <a href="#a0fe8c610024b9a7c2c8c6a3e22977e56"></a><br/></td></tr>
<tr class="separator:a0fe8c610024b9a7c2c8c6a3e22977e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a231f45e7636a360236ad3241234df4b4"><td class="memItemLeft" align="right" valign="top">Returns&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a231f45e7636a360236ad3241234df4b4">device_getDeviceInterruptMessage</a> (wDeviceIndex)</td></tr>
<tr class="memdesc:a231f45e7636a360236ad3241234df4b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to acquire the appropriate interrupt message corresponding to a given device index.  <a href="#a231f45e7636a360236ad3241234df4b4"></a><br/></td></tr>
<tr class="separator:a231f45e7636a360236ad3241234df4b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811bf83f91422a12605214335366a38d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a811bf83f91422a12605214335366a38d">device_init</a> (void)</td></tr>
<tr class="memdesc:a811bf83f91422a12605214335366a38d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The initilization procedure for the device manager module.  <a href="#a811bf83f91422a12605214335366a38d"></a><br/></td></tr>
<tr class="separator:a811bf83f91422a12605214335366a38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f15691d418eafc497b90ffba6c38ddf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#a4f15691d418eafc497b90ffba6c38ddf">device_interruptHandler</a> (void)</td></tr>
<tr class="memdesc:a4f15691d418eafc497b90ffba6c38ddf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The device manager's interrupt handler. This handler is invoked whenever a configured device has raised an interrupt and is responsible for forwarding these interrupts to their appropriate registered handlers.  <a href="#a4f15691d418eafc497b90ffba6c38ddf"></a><br/></td></tr>
<tr class="separator:a4f15691d418eafc497b90ffba6c38ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abe8f548969babca1f154e6ee0b65139c"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device-10c_8c.html#abe8f548969babca1f154e6ee0b65139c">device_deviceEntryTable</a></td></tr>
<tr class="separator:abe8f548969babca1f154e6ee0b65139c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles allocation and enables communication to peripheral devices. </p>
<p><a class="anchor" id="DeviceManager"></a></p>
<p>This module contains several routines that allow exclusive access to allocated devices. This module is also responsible for translating hardware interrupts to their appropriate handlers. </p>
<dl class="section author"><dt>Author</dt><dd>Jeremy (0x10cforums.com) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Dec, 18, 2012 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a7bd80f4fa4389691e01199e6c44de3f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_DEVICEENTRY_INVALIDENTRY</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_INVALIDENTRY */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines the value given to an invalid DeviceEntry entry. </p>

</div>
</div>
<a class="anchor" id="ac234feb60114e2beea31141786e9ff31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_DEVICEENTRY_MAXENTRIES</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_MAXENTRIES */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines the maximum number of support peripheral devices. </p>

</div>
</div>
<a class="anchor" id="a553ac029f9fda58266019a0b1bbb3c53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_DEVICEENTRY_MAXENTRYINDEX</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_MAXENTRYINDEX */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines the maximum possible valid DeviceEntry index into the internal list of DeviceEntry. </p>

</div>
</div>
<a class="anchor" id="af022faeacf809d8559d209831eb383e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_DEVICEENTRY_OFFSET_HANDLER</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_OFFSET_HANDLER */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset to the pHandler member of the DeviceEntry structure. Refer to <a class="el" href="_device_manager.html#deviceEntryLayout">deviceEntryLayout</a> </p>

</div>
</div>
<a class="anchor" id="a19998babdff7622fcb2c0d7b106caed6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_DEVICEENTRY_OFFSET_HARDWAREIDHIGH</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_OFFSET_HARDWAREIDHIGH */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset to the wHwIdHigh member of the DeviceEntry structure. Refer to <a class="el" href="_device_manager.html#deviceEntryLayout">deviceEntryLayout</a> </p>

</div>
</div>
<a class="anchor" id="a9dd7141baa98434d99ab789cb1c00779"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_DEVICEENTRY_OFFSET_HARDWAREIDLOW</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_OFFSET_HARDWAREIDLOW */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset to the wHwIdLow member of the DeviceEntry structure. Refer to <a class="el" href="_device_manager.html#deviceEntryLayout">deviceEntryLayout</a> </p>

</div>
</div>
<a class="anchor" id="a00285e6520741716869118d45409f616"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_DEVICEENTRY_OFFSET_HARDWAREVERSION</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_OFFSET_HARDWAREVERSION */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset to the wVersion member of the DeviceEntry structure. Refer to <a class="el" href="_device_manager.html#deviceEntryLayout">deviceEntryLayout</a> </p>

</div>
</div>
<a class="anchor" id="af4f158a203d1b4cff0f16e1f15adaeae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_DEVICEENTRY_SIZE</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;/* device.10c, DEVICE_DEVICEENTRY_SIZE */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of DeviceEntry structure in words. Refer to <a class="el" href="_device_manager.html#deviceEntryLayout">deviceEntryLayout</a> </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5fb29fc7609acd6f952a70fa3aefe612"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Returns device_allocateDevice </td>
          <td>(</td>
          <td class="paramtype">wDeviceIdLow&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wDeviceIdHigh&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pInterruptHandler&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to allocate and gain exclusive access to a device. </p>
<dl class="section note"><dt>Note</dt><dd>Uses the cdecl calling convention <a class="el" href="calling_conventions.html#cdecl">cdecl</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wDeviceIdLow</td><td>Lower word of the id corresponding to the device that is to be found. </td></tr>
    <tr><td class="paramname">wDeviceIdHigh</td><td>Higher word of the id corresponding to the device that is to be found. </td></tr>
    <tr><td class="paramname">pInterruptHandler</td><td>Callback routine invoked via <a class="el" href="calling_conventions.html#naked-isr">naked-isr</a> calling convention whenever this allocate device raises an interrupt. If this entry is 0, an internal handler which performs no function is used instead. Note though that even if this parameter is zero, you must still configure the device using the proper interrupt message code. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns DEVICE_DEVICEENTRY_INVALIDENTRY if no device found, otherwise returns the index of the device. </dd></dl>

</div>
</div>
<a class="anchor" id="a893c2e78bf6dafea2b5e05ddcd1e22a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void device_defaultInterruptHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt handler assigned to devices which have been allocated but have not been provided a callback routine. This callback routine fills there place and performs no function. </p>
<dl class="section note"><dt>Note</dt><dd>Uses the naked-isr calling convention <a class="el" href="calling_conventions.html#naked-isr">naked-isr</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9dca3f272821c99cb5727ab00b6b502a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Returns device_findIndexOfDevice </td>
          <td>(</td>
          <td class="paramtype">wDeviceIdLow&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wDeviceIdHigh&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wStartIndex&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to acquire the appropriate device index corresponding to the given device id. </p>
<dl class="section note"><dt>Note</dt><dd>Uses the cdecl calling convention <a class="el" href="calling_conventions.html#cdecl">cdecl</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wDeviceIdLow</td><td>Lower word of the id corresponding to the device that is to be found. </td></tr>
    <tr><td class="paramname">wDeviceIdHigh</td><td>Higher word of the id corresponding to the device that is to be found. </td></tr>
    <tr><td class="paramname">wStartIndex</td><td>The index from which to begin the search </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns DEVICE_DEVICEENTRY_INVALIDENTRY if no device found, otherwise returns the index of the device. </dd></dl>

</div>
</div>
<a class="anchor" id="a0fe8c610024b9a7c2c8c6a3e22977e56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Returns device_freeDevice </td>
          <td>(</td>
          <td class="paramtype">wDeviceIndex&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to to free a previously allocated allocate. </p>
<dl class="section note"><dt>Note</dt><dd>Uses the cdecl calling convention <a class="el" href="calling_conventions.html#cdecl">cdecl</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wDeviceIndex</td><td>The index of the device to be freed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a 0 if the operation failed due to the given index being out of range, and anything else if it was a success. </dd></dl>

</div>
</div>
<a class="anchor" id="a231f45e7636a360236ad3241234df4b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Returns device_getDeviceInterruptMessage </td>
          <td>(</td>
          <td class="paramtype">wDeviceIndex&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to acquire the appropriate interrupt message corresponding to a given device index. </p>
<dl class="section note"><dt>Note</dt><dd>Uses the cdecl calling convention <a class="el" href="calling_conventions.html#cdecl">cdecl</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wDeviceIndex</td><td>Index of the device to acquire the corresponding interrupt message code for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the interrupt message code which corresponds to the provided device index </dd></dl>

</div>
</div>
<a class="anchor" id="a811bf83f91422a12605214335366a38d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void device_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The initilization procedure for the device manager module. </p>
<dl class="section note"><dt>Note</dt><dd>Uses the cdecl calling convention <a class="el" href="calling_conventions.html#cdecl">cdecl</a></dd></dl>
<p>This routine is responsible for initilizing the device manager module. It begins by initilizing the internal device entry table and gathering information about all attached peripheral devices. </p>
<dl class="section attention"><dt>Attention</dt><dd>This routine must be called only once during initilization. Typically, this is done inside of the BootCode. Outside of the BootCode, this routine should not be called. </dd></dl>

</div>
</div>
<a class="anchor" id="a4f15691d418eafc497b90ffba6c38ddf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void device_interruptHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The device manager's interrupt handler. This handler is invoked whenever a configured device has raised an interrupt and is responsible for forwarding these interrupts to their appropriate registered handlers. </p>
<dl class="section note"><dt>Note</dt><dd>Uses the naked-isr calling convention <a class="el" href="calling_conventions.html#naked-isr">naked-isr</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="abe8f548969babca1f154e6ee0b65139c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short device_deviceEntryTable</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Internal data table where the state of all the attached peripheral devices are stored. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="device-10c_8c.html">device-10c.c</a></li>
    <li class="footer">Generated on Mon Jan 14 2013 00:25:40 for NCC DarkCPU by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
